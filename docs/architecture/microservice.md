## 微服务起源

微服务可以是 SOA(面向服务的架构模式) 的一种实践. 它有一些如下的设计原则:
  - 小即是美:小的服务代码少，bug 也少，易测试，易维护，也更容易不断迭代完善的精致进而美妙
  - 单一职责:一个服务也只需要做好一件事，专注才能做好
  - 尽可能早地创建原型:尽可能早的提供服务 API，建立服务契约，达成服务间沟通的一致性约定，至于实现 和完善可以慢慢再做
  - 可移植性比效率更重要:服务间的轻量级交互协议在效率和可移植性二者间，首要依然考虑兼容性和移植性

## 基础设施自动化

无自动化不微服务，自动化包括测试和部署。单一进程的传统应用被拆分为一系列的多进程服
务后，意味着开发、调试、测试、监控和部署的复杂度都会相应增大，必须要有合适的自动化
基础设施来支持微服务架构模式，否则开发、运维成本将大大增加

## 可用性 & 兼容性设计
著名的 Design For Failure 思想，微服务架构采用粗粒度的进程间通信，引入了额外的复杂 性和需要处理的新问题，如网络延迟、消息格式、负载均衡和容错，忽略其中任何一点都属 于对“分布式计算的误解”。
一旦采用了微服务架构模式，那么在服务需要变更时我们要特别小心，服务提供者的变更可 能引发服务消费者的兼容性破坏，时刻谨记保持服务契约(接口)的兼容性。
发送时要保守，接收时要开放。按照伯斯塔尔法则的思想来设计和实现服务时，发送的数据要更保守，
意味着最小化的传送必要的信息，接收时更开放意味着要最大限度的容忍冗余数据，保证兼容性。

## 总结

项目微服务化是一种架构手段，有效拆分后可以帮助实现服务的敏捷开发和部署。但是由于将原本一体化架构的应用拆分成了多个通过网络通信的分布式服务，为了在分布式环境下协调多个服务正常运行，就必然引入一定的复杂度。主要体现在：

- 服务接口的调用不再是同一进程内的方法调用而是跨进程的网络调用，这会增加接口响应时间。于是就需要有高效的服务调用框架，即服务注册中心

- 多个服务之间有着错综复杂的依赖关系。一旦一个服务性能出现问题，就会产生整个链条的服务出现问题，于是需要引入服务治理体系针对出问题的服务采用熔断、降级、限流、超时控制的方法，使问题被限制在单一服务中，保护服务网络中的其他服务不受影响。

- 系统一旦出现故障，问题定位会是个很大的难题，于是需要引入分布式追踪工具，以及更细致的服务端监控报表。监控报表关注的是依赖服务和资源的宏观性能表现；分布式追踪关注的是单一慢请求中的性能瓶颈分析，两者需要结合起来排查问题。
